# π® ComputerNetwork-TEAM-10

## TCP/UDP Socket κΈ°λ° μ½μ†” μ¤λ© κ²μ„

λ³Έ ν”„λ΅μ νΈλ” **Computer Network μμ—… ν€ ν”„λ΅μ νΈ**λ΅,  
**TCP/UDP μ†μΌ“ ν†µμ‹ μ„ μ΄μ©ν•μ—¬ μ¨λΌμΈ μ¤λ© κ²μ„μ„ κµ¬ν„**ν• ν”„λ΅μ νΈμ…λ‹λ‹¤.  
ν΄λΌμ΄μ–ΈνΈλ” μ½μ†” ν™κ²½μ—μ„ μ¤λ©μ„ ν”λ μ΄ν•λ©°, μ„λ²„λ” μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈμ μ ‘μ† κ΄€λ¦¬, κ²μ„ μ§„ν–‰,  
λ λ°°μΉ κ²€μ¦ λ° μΉλ¦¬ νμ •μ„ λ‹΄λ‹Ήν•©λ‹λ‹¤.

---

## ν”„λ΅μ νΈ κ°μ”

-   **μ£Όμ :** TCP/UDP μ†μΌ“ κΈ°λ° λ„¤νΈμ›ν¬ μ¤λ© κ²μ„
-   **κ°λ° μ–Έμ–΄:** Python
-   **κµ¬ν„ ν•νƒ:** μ½μ†” κΈ°λ° UI
-   **κµ¬μ„±:**
    -   μ¨λΌμΈ μ¤λ©(2μΈ λ€μ „)
    -   TCP κΈ°λ° ν†µμ‹ 
    -   μ„λ²„ μ£Όλ„ν• κ²μ„ μ§„ν–‰
    -   ν„΄ κ΄€λ¦¬ / λ λ°°μΉ κ²€μ¦ / 5λ© μΉλ¦¬ νμ •

---

## μ—­ν• λ¶„λ‹΄

-   **μ„λ…μ¤€:** server
-   **κΉ€μ°μ§„:** UI/protocol
-   **κ¶μ§„μ±:** client
-   **Sayed Refat:** Omock Rule

---

## μ£Όμ” κΈ°λ¥

### μ„λ²„ κΈ°λ¥

-   λ‹¤μ¤‘ ν΄λΌμ΄μ–ΈνΈ μ ‘μ† κ΄€λ¦¬ (λ€κΈ° λ΅λΉ„)
-   ν”λ μ΄μ–΄ λ§¤μΉ­ λ° κ²μ„ μ‹μ‘
-   κ° ν΄λΌμ΄μ–ΈνΈμ μΆν‘ μ…λ ¥ μμ‹ 
-   λμ μ ν¨μ„± κ²€μ‚¬ λ° λ³΄λ“ μ—…λ°μ΄νΈ
-   5λ©(κ°€λ΅/μ„Έλ΅/λ€κ°μ„ ) μΉλ¦¬ νμ •
-   κ²μ„ ν„΄ κ΄€λ¦¬ λ° λΈλ΅λ“μΊμ¤νΈ

---

### ν΄λΌμ΄μ–ΈνΈ κΈ°λ¥

-   TCP/UDP λ°©μ‹μΌλ΅ μ„λ²„μ™€ ν†µμ‹ 
-   μ½μ†” ν™”λ©΄μ—μ„ μ¤λ©ν λ λ”λ§
-   μΆν‘ μ…λ ¥(UI)
-   μ„λ²„ μ§€μ‹μ— λ”°λ¥Έ ν„΄ μ§„ν–‰
-   μΉν¨ κ²°κ³Ό μ¶λ ¥
-   κ°„λ‹¨ν• μ±„ν…

---

### μ‹¤ν–‰ λ°©λ²•

- **μ„λ²„ μ‹¤ν–‰: python Server.py**
-  **ν”λ μ΄μ–΄ μ…μ¥: python Client.py**
    - ip μ…λ ¥
    - ν”λ μ΄μ–΄ μ΄λ¦„ μ…λ ¥
    - μƒλ€ λ§¤μΉ­
- **restart**λ” μ„λ΅ λ™μν•΄μ•Ό μ‹μ‘

---

### μ§„ν–‰ κ³Όμ •

- **μ „μ²΄ νλ¦„**

    μ„λ²„λ” TCP μ†μΌ“ κΈ°λ°μΌλ΅ λ™μ‘ν•λ©°, HTTP μ”μ²­μ„ μ§μ ‘ νμ‹±ν•μ—¬ JSON ν•νƒμ μ‘λ‹µμ„ λ°ν™ν•©λ‹λ‹¤. κ²μ„ μƒνƒλ” OmokGame μΈμ¤ν„΄μ¤μ—μ„ μ¤‘μ•™ μ§‘μ¤‘μ μΌλ΅ κ΄€λ¦¬λλ‹¤.
    ν΄λΌμ΄μ–ΈνΈλ” Pygame UIλ¥Ό μ‚¬μ©ν•μ—¬ μ£ΌκΈ°μ μΌλ΅ μ„λ²„λ΅λ¶€ν„° κ²μ„ μƒνƒλ¥Ό ν΄λ§ν•κ³ , μ±„ν…Β·μ¬μ‹μ‘ μ”μ²­Β·ν„΄ μ •λ³΄ λ“±μ„ HTTP POST λ°©μ‹μΌλ΅ μ „λ‹¬ν•λ‹¤.

- **ν”λ μ΄μ–΄ μ…μ¥ λ° μ—­ν• **

    λ°©μ— μ…μ¥ν• μμ„λ€λ΅ BLACK / WHITE μƒ‰μ΄ μλ™μΌλ΅ λ°°μ •λλ‹¤.
    λ‘ ν”λ μ΄μ–΄κ°€ λ¨λ‘ μ…μ¥ν•΄μ•Ό κ²μ„μ΄ μ‹μ‘λλ‹¤.
    μ΄λ―Έ λ‘ μλ¦¬κ°€ λ¨λ‘ μ°Όλ‹¤λ©΄, μ¶”κ°€λ΅ μ…μ¥ν•λ” μ‚¬μ©μλ” κ΄€μ „μ λ΅ μ°Έμ—¬ν•κ² λλ‹¤.

- **κ²μ„ μ§„ν–‰ & μ¬μ‹μ‘ κ·μΉ™**
    
    κ²μ„ μΆ…λ£ ν›„, μ–‘μ½ ν”λ μ΄μ–΄κ°€ λ¨λ‘ RESTART λ²„νΌμ„ λλ¬μ•Ό μƒλ΅μ΄ κ²μ„μ΄ μ‹μ‘λλ‹¤.
    λ‘ ν”λ μ΄μ–΄κ°€ μ¬μ‹μ‘μ„ μΉμΈν•΄μ•Όλ§ OmokGame μΈμ¤ν„΄μ¤κ°€ μƒνƒλ¥Ό μ΄κΈ°ν™”ν•λ‹¤.


---

### μ£Όμ” λ§¤μ†λ“

- **Server**

    - **read_http_request:** ν΄λΌμ΄μ–ΈνΈ μ—μ„ λ³΄λ‚Έ HTTP μ”μ²­μ„ ν—¤λ”μ™€ λ°”λ””λ΅ λ¶„λ¦¬. λ¶„λ¦¬λ ν—¤λ”μ—μ„ μ–΄λ–¤ μ”μ²­μΈμ§€ ν™•μΈ.μ΄ν›„ **handle_client**μ—μ„ μ”μ²­μ„ λ¶„μ„ν›„ μ μ ν• λ§¤μ†λ“(handle_) νΈμ¶.

    - **handle_join:** ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„λ΅ μ ‘μ†ν• λ• νΈμ¶λλ” λ§¤μ†λ“λ΅, λ¨Όμ € μ”μ²­μ—μ„ ν”λ μ΄μ–΄ μ΄λ¦„μ„ κ°€μ Έμ¤κ³  BLACKκ³Ό WHITEμ¤‘ μ—†λ” μƒ‰μ„ λ°°μ •ν•λ‹¤. μ΄ν›„ ν”λ μ΄μ–΄ λ³„λ΅ κ³ μ ν• ν† ν°μ„ μƒμ„±ν•κ³  μƒ‰μƒκ³Ό μ΄λ¦„ μ •λ³΄λ¥Ό λ„£μ€λ’¤ PLAYER_SLOTSμ΄ λΉ„μ–΄μλ”κ²½μ° ν•΄λ‹Ή μλ¦¬μ— ν† ν°μ„ λ„£λ”λ‹¤. λ§μ§€λ§‰μΌλ΅ μ •μƒμ μΌλ΅ μ²λ¦¬λκ²½μ° ν΄λΌμ΄μ–ΈνΈμ— μ‘λ‹µμ„ λ³΄λ‚΄μ¤€λ‹¤. μ΄λ• μ΄λ―Έ ν‘ λ°±μ΄ λ°°μ • λ°›μ€κ²½μ° assign_color_lockedμ—μ„ noneμ„ λ°ν™ν•κΈ° λ•λ¬Έμ— player_slots[none]μΌλ΅ λ°°μ •λ°›κ³  κ΄€μ „μλ΅ μ²λ¦¬λλ‹¤.

    - **handle_move:** ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ ν† ν°μ„ ν™•μΈν• λ’¤, μ”μ²­ν• μ‚¬μ©μκ°€ μ‹¤μ λ΅ μ¤λ©νμ— λμ„ λ‘ μ μλ” μƒνƒμΈμ§€ νλ‹¨ν•μ—¬ ν•΄λ‹Ή μΆν‘μ— λμ„ λ°°μΉν•λ‹¤. μ΄ κ³Όμ •μ—μ„ ν”λ μ΄μ–΄κ°€ ν‘ λλ” λ°±μΈμ§€ κ·Έλ¦¬κ³  ν„μ¬ ν„΄μ΄ λ§λ”μ§€ λ“±μ„ ν™•μΈν• ν›„ μ ν¨ν• κ²½μ°μ—λ§ μλ¥Ό μ§„ν–‰ν•λ‹¤.

    - **handle_chat:** ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ ν† ν°μ„ ν™•μΈν•΄ μ‚¬μ©μμ„μ„ ν™•μΈν• λ’¤, ν•΄λ‹Ή ν† ν°μ„ ν†µν•΄ ν”λ μ΄μ–΄μ μ΄λ¦„μ„ μ΅°νν•λ‹¤. μ΄ν›„ μ „λ‹¬λ°›μ€ λ©”μ‹μ§€λ¥Ό μ„λ²„μ μ±„ν… κΈ°λ΅μ— μ¶”κ°€ν•κ³ , μµμ‹  μ±„ν… λ©λ΅μ„ ν΄λΌμ΄μ–ΈνΈμ— λ°ν™ν•λ‹¤.

    

- **Client**

    - **detect_local_ip:** μ‚¬μ©μκ°€ ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰ μ‹ μ„λ²„ IPλ¥Ό μ…λ ¥ν•μ§€ μ•μ€ κ²½μ°,μ΄ ν•¨μλ” μλ™μΌλ΅ ν„μ¬ μ»΄ν“¨ν„°μ λ΅μ»¬ IP μ£Όμ†λ¥Ό λ°ν™ν•λ‹¤. UDPλ” μ‹¤μ  μ—°κ²°μ„ ν•μ§€ μ•λ” ν”„λ΅ν† μ½μ΄κΈ° λ•λ¬Έμ—,connect()λ¥Ό νΈμ¶ν•λ”λΌλ„ ν¨ν‚·μ„ λ³΄λ‚΄μ§€ μ•κ³  μ΄μμ²΄μ μ—κ² λΌμ°ν… μ •λ³΄λ¥Ό κ³„μ‚°ν•κ² ν•λ‹¤. μ΄ κ³Όμ •μ—μ„ OSλ” β€μΈν„°λ„·μΌλ΅ λ‚κ° λ• μ‚¬μ©ν•  λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤β€λ¥Ό κ²°μ •ν•κ³ ,κ·Έ μΈν„°νμ΄μ¤μ λ΅μ»¬ IPλ¥Ό getsockname()μΌλ΅ μ–»μ„ μ μλ‹¤. λ§μ•½ μ΄ κ³Όμ •μ΄ μ‹¤ν¨ν•  κ²½μ°, ν•¨μλ” μ•μ „ν• κΈ°λ³Έκ°’μΌλ΅ 127.0.0.1μ„ λ°ν™ν•λ‹¤.


- **Protocol**

    - **_http_request:** ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„λ΅ λ³΄λ‚Όλ• ν•„λ£ν• λ©”μ„Έμ§€λ¥Ό λ§λ“¤μ–΄ μ „μ†΅ν•κ³ , μ„λ²„ μ‘λ‹µμ„ μ½μ–΄ λ°ν™ν•λ” λ§¤μ†λ“.